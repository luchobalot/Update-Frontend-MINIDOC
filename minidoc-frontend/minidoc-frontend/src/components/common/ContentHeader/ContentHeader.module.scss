// src/components/common/ContentHeader/ContentHeader.module.scss
@import '../../../styles/base/variables';
@import '../../../styles/base/mixins';

// ==================== CONTENT HEADER ====================
.contentHeader {
    @include flex-between;
    gap: $spacing-lg;
    margin-bottom: 2rem;
    padding: 1.5rem;
    @include card;
    // ✅ QUITAR width: 100% o width: calc(...)
    box-sizing: border-box;
    
    @include tablet {
        flex-direction: column;
        gap: $spacing-md;
        padding: 1.25rem;
        text-align: center;
    }
    
    @include mobile {
        padding: 1rem;
        margin-bottom: 1.5rem;
    }
}

// ==================== TITLE SECTION ====================
.titleSection {
    flex: 1;
    
    .title {
        color: $text-color;
        font-size: $font-size-lg;
        font-weight: $font-semibold;
        margin: 0 0 0.25rem 0;
        @include flex-center;
        justify-content: flex-start;
        gap: 0.5rem;
        
        @include tablet {
            justify-content: center;
            font-size: $font-size-base;
        }
        
        @include mobile {
            font-size: $font-size-base;
        }
        
        &::before {
            content: '';
            display: inline-block;
            width: 4px;
            height: 1.5rem;
            background: $primary-color;
            border-radius: 2px;
        }
    }
    
    .description {
        color: $text-light;
        font-size: $font-size-sm;
        margin: 0;
        margin-left: 1.25rem; // Alinear con el texto del título
        
        @include tablet {
            margin-left: 0;
            text-align: center;
        }
        
        @include mobile {
            font-size: 0.75rem;
        }
    }
    
    .customContent {
        margin-top: $spacing-sm;
        margin-left: 1.25rem; // Alinear con el texto del título
        
        @include tablet {
            margin-left: 0;
        }
    }
}

// ==================== ACTIONS SECTION ====================
.actionsSection {
    @include flex-center;
    gap: $spacing-md;
    flex-wrap: wrap;
    
    @include tablet {
        width: 100%;
        justify-content: center;
    }
    
    @include mobile {
        flex-direction: column;
        width: 100%;
        gap: $spacing-sm;
    }
}

// ==================== ACTION BUTTONS ====================
.actionBtn {
    @include btn-base;
    
    &:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        
        &:hover {
            transform: none;
        }
    }
    
    // Variantes de botones
    &.primary {
        @include btn-primary;
    }
    
    &.secondary {
        @include btn-secondary;
    }
    
    &.warning {
        background: $warning;
        color: $text-color;
        
        &:hover:not(:disabled) {
            background: darken($warning, 10%);
        }
    }
    
    &.success {
        background: $success;
        color: $text-color;
        
        &:hover:not(:disabled) {
            background: darken($success, 10%);
        }
    }
    
    &.danger {
        background: $error;
        color: $text-color;
        
        &:hover:not(:disabled) {
            background: darken($error, 10%);
        }
    }
    
    &.ghost {
        background: transparent;
        color: $text-light;
        border: 1px solid $border-color;
        
        &:hover:not(:disabled) {
            background: rgba($primary-color, 0.1);
            color: $primary-color;
            border-color: $primary-color;
        }
    }
    
    // Iconos en botones
    i {
        font-size: 1rem;
        
        // Si hay texto después del icono, agregar margen
        + span {
            margin-left: 0.375rem;
        }
    }
    
    @include mobile {
        width: 100%;
        justify-content: center;
    }
}

// ==================== RESPONSIVE ESPECÍFICO ====================
@media screen and (max-width: 480px) {
    .contentHeader {
        padding: 0.75rem;
        margin-bottom: 1rem;
        
        .title {
            font-size: 0.875rem;
            
            &::before {
                width: 3px;
                height: 1.25rem;
            }
        }
        
        .description {
            font-size: 0.7rem;
        }
    }
    
    .actionBtn {
        padding: 0.625rem 1rem;
        font-size: 0.75rem;
        
        i {
            font-size: 0.875rem;
        }
    }
}

// ==================== LOADING STATE ====================
.contentHeader {
    &.loading {
        .actionsSection {
            opacity: 0.6;
            pointer-events: none;
        }
    }
}

// ==================== ANIMACIONES ====================
@keyframes slideInDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.contentHeader {
    animation: slideInDown 0.3s ease-out;
}

// ==================== MODO DE ALTO CONTRASTE ====================
@media (prefers-contrast: high) {
    .contentHeader {
        border: 2px solid $primary-color;
    }
    
    .actionBtn {
        border-width: 2px;
        font-weight: $font-semibold;
        
        &.primary,
        &.secondary {
            border-color: currentColor;
        }
    }
}

// ==================== PRINT STYLES ====================
@media print {
    .contentHeader {
        background: white;
        border: 1px solid black;
        box-shadow: none;
        page-break-inside: avoid;
    }
    
    .actionsSection {
        display: none; // Ocultar botones en impresión
    }
    
    .title {
        color: black;
        
        &::before {
            background: black;
        }
    }
    
    .description {
        color: #666;
    }
}